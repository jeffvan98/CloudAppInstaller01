# location
location = "eastasia"

# resource group
create_virtual_machine_resource_group = true
virtual_machine_resource_group_name   = "2025-06-23-RG-e0f1"

# virtual network
create_virtual_machine_network = true
virtual_machine_network_name = "vnete0f1"
virtual_machine_network_address_space = ["10.0.0.0/16"]

# virtual machine subnet
create_virtual_machine_subnet = true
virtual_machine_subnet_name = "infrastructure-subnet"
virtual_machine_subnet_address_prefix = "10.0.2.0/24"

# virtual machine subnet network security group
create_virtual_machine_subnet_network_security_group = true
virtual_machine_subnet_network_security_group_name = "infrastructure-nsg"

# route table
create_route_table = false

# virtual machine
virtual_machine_name = "vme0f101"
virtual_machine_size = "Standard_D4s_v5" # this SKU does not have a GPU
admin_username = "azureuser"
authentication_type = "Password"
admin_password = "[REPLACE]"
os_disk_size_gb = 250
os_disk_type = "Premium_LRS"
create_data_disk = true
data_disk_size_gb = 1024
data_disk_type = "Premium_LRS"
data_disk_caching = "ReadWrite"
install_gpu_drivers = false # no GPU, therefore no driver
gpu_driver_type = "CUDA"

# azure files
create_azure_files_share = true

# files subnet
create_private_endpoint_subnet = true
private_endpoint_virtual_network_name = "vnete0f1"
private_endpoint_subnet_name = "private-subnet"
private_endpoint_subnet_address_prefix = "10.0.4.0/24"

# files subnet network security group
create_private_endpoint_nsg = true
private_endpoint_nsg_name = "private-nsg"

# files
azure_files_storage_account_name = "storee0f1"
azure_files_storage_account_tier = "Standard"
azure_files_storage_account_replication = "LRS"
azure_files_share_name = "datascience"
azure_files_share_quota_gb = 10
azure_files_share_access_tier = "Hot"

# rbac
grant_vm_storage_access = true

# dns
create_private_dns_zone_for_files = true
private_dns_zone_name_for_files = "privatelink.file.core.windows.net"

# mount
mount_azure_files_on_vm = true
azure_files_mount_point = "/mnt/datascience"
azure_files_mount_options = "nofail,credentials=/etc/azure-files-credentials,dir_mode=0777,file_mode=0666,uid=1000,gid=1000,serverino"
azure_files_mount_persistent = true